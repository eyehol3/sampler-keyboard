{"version":3,"sources":["components/Key.js","components/KeyCodes.js","components/SoundEngine.js","components/Keys.js","App.js","reportWebVitals.js","index.js"],"names":["Key","props","keyName","keyCode","shiftState","id","className","keyCodes","code","name","SoundEngine","useState","recorder","setRecorder","isRecording","blobURL","isBlocked","audio","state","setState","onClick","console","log","Promise","resolve","a","navigator","mediaDevices","getUserMedia","stream","mediaRecorder","MediaRecorder","audioChunks","addEventListener","event","push","data","stop","audioBlob","Blob","audioUrl","URL","createObjectURL","Audio","play","start","then","r","disabled","recordedAudio","catch","e","src","controls","KeyboardLayout","Keys","setShiftState","pressedKeys","setPressedKeys","keyboard","useRef","useEffect","current","focus","find","onKeyDown","button","document","querySelector","classList","add","onKeyUp","filter","el","remove","tabIndex","ref","map","row","i","split","k","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4e1807c6.chunk.js","sourcesContent":["import React from \"react\";\n\n// import \"./Keys.css\";\n\n\nexport const Key = (props) => {\n    const {keyName, keyCode, shiftState} = props;\n\n   return (\n       <div id={keyCode} className={`key ${keyName} ${shiftState? \"shift-pressed\":null}`}>{keyName}</div>\n   ) \n\n\n}","export const keyCodes = [\n\t{ code: \"Digit0\", name: \"0\" },\n\t{ code: \"Digit1\", name: \"1\" },\n\t{ code: \"Digit2\", name: \"2\" },\n\t{ code: \"Digit3\", name: \"3\" },\n\t{ code: \"Digit4\", name: \"4\" },\n\t{ code: \"Digit5\", name: \"5\" },\n\t{ code: \"Digit6\", name: \"6\" },\n\t{ code: \"Digit7\", name: \"7\" },\n\t{ code: \"Digit8\", name: \"8\" },\n\t{ code: \"Digit9\", name: \"9\" },\n\t{ code: \"Minus\", name: \"-\" },\n\t{ code: \"Equal\" , name: \"=\"},\n\t{ code: \"BracketLeft\", name: \"[\" },\n\t{ code: \"BracketRight\", name: \"]\" },\n\t{ code: \"Semicolon\", name: \";\" },\n\t{ code: \"Quote\", name: \"'\" },\n\t{ code: \"ShiftLeft\", name: \"shift\"},\n\t{ code: \"KeyQ\", name: \"q\" },\n\t{ code: \"KeyW\", name: \"w\" },\n\t{ code: \"KeyE\", name: \"e\" },\n\t{ code: \"KeyR\", name: \"r\" },\n\t{ code: \"KeyT\", name: \"t\" },\n\t{ code: \"KeyY\", name: \"y\" },\n\t{ code: \"KeyU\", name: \"u\" },\n\t{ code: \"KeyI\", name: \"i\" },\n\t{ code: \"KeyO\", name: \"o\" },\n\t{ code: \"KeyP\", name: \"p\" },\n\t{ code: \"KeyA\", name: \"a\" },\n\t{ code: \"KeyS\", name: \"s\" },\n\t{ code: \"KeyD\", name: \"d\" },\n\t{ code: \"KeyF\", name: \"f\" },\n\t{ code: \"KeyG\", name: \"g\" },\n\t{ code: \"KeyH\", name: \"h\" },\n\t{ code: \"KeyJ\", name: \"j\" },\n\t{ code: \"KeyK\", name: \"k\" },\n\t{ code: \"KeyL\", name: \"l\" },\n\t{ code: \"KeyZ\", name: \"z\" },\n\t{ code: \"KeyX\", name: \"x\" },\n\t{ code: \"KeyC\", name: \"c\" },\n\t{ code: \"KeyV\", name: \"v\" },\n\t{ code: \"KeyB\", name: \"b\" },\n\t{ code: \"KeyN\", name: \"n\" },\n\t{ code: \"KeyM\", name: \"m\" },\n\t{ code: \"Comma\", name: \",\" },\n\t{ code: \"Period\", name: \".\" },\n\t{ code: \"Slash\", name: \"/\" },\n\t{ code: \"ShiftRight\", name: \"shift\" },\n\t{ code: \"Space\", name: \"space\" }\n];\n","import React, { useState } from \"react\";\n// import MicRecorder from \"mic-recorder-to-mp3\";\nconst recordAudio = () =>\n\tnew Promise(async (resolve) => {\n\t\tconst stream = await navigator.mediaDevices.getUserMedia({\n\t\t\taudio: true,\n\t\t});\n\t\tconst mediaRecorder = new MediaRecorder(stream);\n\t\tconst audioChunks = [];\n\n\t\tmediaRecorder.addEventListener(\"dataavailable\", (event) => {\n\t\t\taudioChunks.push(event.data);\n\t\t});\n\n\t\tconst start = () => mediaRecorder.start();\n\n\t\tconst stop = () =>\n\t\t\tnew Promise((resolve) => {\n\t\t\t\tmediaRecorder.addEventListener(\"stop\", () => {\n\t\t\t\t\tconst audioBlob = new Blob(audioChunks);\n\t\t\t\t\tconst audioUrl = URL.createObjectURL(audioBlob);\n\t\t\t\t\tconst audio = new Audio(audioUrl);\n\t\t\t\t\tconst play = () => audio.play();\n\t\t\t\t\tresolve({ audioBlob, audioUrl, play });\n\t\t\t\t});\n\n\t\t\t\tmediaRecorder.stop();\n\t\t\t});\n\n\t\tresolve({ start, stop });\n\t});\n\n// const fuck = async () => {\n// \tconst recorder = await recordAudio();\n// \tconsole.log(recorder);\n// \treturn recorder;\n// };\n\nexport const SoundEngine = () => {\n\t// const Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\t// const recorder = recordAudio().then(r=>r)\n\tconst [recorder, setRecorder] = useState();\n\n\tconst [state, setState] = useState({\n\t\tisRecording: false,\n\t\tblobURL: \"\",\n\t\tisBlocked: false,\n\t\taudio: null,\n\t});\n\n\t// useEffect(() => {\n\t// \trecordAudio().then((r) => {\n\t// \t\tsetState({ isBlocked: false });\n\t// \t\trecorder.current = r;\n\t// \t});\n\t// }, []);\n\n\tconst start = () => {\n\t\tif (state.isBlocked) {\n\t\t\tconsole.log(\"Permission Denied\");\n\t\t} else {\n\t\t\tconsole.log(recorder);\n\t\t\trecordAudio().then((r) => {\n\t\t\t\tr.start();\n\t\t\t\tsetRecorder(r);\n\t\t\t\tsetState({ isRecording: true });\n\t\t\t});\n\t\t}\n\t};\n\n\tconst stop = () => {\n\t\trecorder\n\t\t\t.stop()\n\t\t\t.then((recordedAudio) => {\n\t\t\t\tsetState({ audio: recordedAudio, isRecording: false });\n\t\t\t})\n\t\t\t.catch((e) => console.log(e));\n\t};\n\n\tconst play = () => {\n\t\tconsole.log(state.audio);\n\t\tstate.audio.play();\n\t};\n\t// audio.play();\n\treturn (\n\t\t<div>\n\t\t\t<button\n\t\t\t\tonClick={start}\n\t\t\t\tdisabled={state.isRecording || state.isBlocked}\n\t\t\t>\n\t\t\t\tRecord\n\t\t\t</button>\n\t\t\t<button onClick={stop} disabled={!state.isRecording}>\n\t\t\t\tStop\n\t\t\t</button>\n\t\t\t{/* <button onClick={play} disabled={!state.audio}> */}\n\t\t\t<button onClick={play} disabled={!state.audio}>\n\t\t\t\tPlay\n\t\t\t</button>\n\t\t\t<audio\n\t\t\t\tsrc={state.audio ? state.audio.audioUrl : null}\n\t\t\t\tcontrols=\"controls\"\n\t\t\t/>\n\t\t</div>\n\t);\n};\n","// eslint-disable-next-line\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Key } from \"./Key\";\nimport { keyCodes } from \"./KeyCodes\";\nimport { SoundEngine } from \"./SoundEngine\";\n\nimport \"./Keys.scss\";\n\nconst KeyboardLayout = [\n\t\"1 2 3 4 5 6 7 8 9 0 - =\",\n\t\"q w e r t y u i o p [ ]\",\n\t\"a s d f g h j k l ; '\",\n\t\"shift z x c v b n m , . /\",\n\t\"space\",\n];\n\nexport const Keys = () => {\n\t// const [input, setInput] = useState(\"\");\n\tconst [shiftState, setShiftState] = useState(false);\n\tconst [pressedKeys, setPressedKeys] = useState([]);\n\tconst keyboard = useRef();\n\n\tuseEffect(() => {\n\t\tkeyboard.current.focus();\n\t}, []);\n\tuseEffect(() => {\n\t\tsetShiftState(\n\t\t\tpressedKeys.find(\n\t\t\t\t(code) => code === \"ShiftRight\" || code === \"ShiftLeft\"\n\t\t\t)\n\t\t);\n\t\t// console.log(shiftState);\n\t}, [pressedKeys]);\n\n\tconst onKeyDown = (button) => {\n\t\tsetPressedKeys([...pressedKeys, button.code]);\n\t\tlet el = document.querySelector(`#${button.code}`);\n\t\tif (el) {\n\t\t\tdocument\n\t\t\t\t.querySelector(`#${button.code}`)\n\t\t\t\t?.classList.add(\"key-down\");\n\t\t}\n\t\tif (\n\t\t\tpressedKeys.find(\n\t\t\t\t(code) => code === \"ShiftRight\" || code === \"ShiftLeft\"\n\t\t\t)\n\t\t)\n\t\t\tsetShiftState(true);\n\t};\n\tconst onKeyUp = (button) => {\n\t\tsetPressedKeys(pressedKeys.filter((code) => button.code !== code));\n\t\tlet el = document.querySelector(`#${button.code}`);\n\t\tconsole.log(\"Button released\", button.code);\n\t\tif (el) {\n\t\t\tdocument\n\t\t\t\t.querySelector(`#${button.code}`)\n\t\t\t\t.classList.remove(\"key-down\");\n\t\t}\n\t};\n\n\tconst renderKeyboard = () =>\n\t\tKeyboardLayout.map((row, i) => (\n\t\t\t<div className=\"key-row\" key={i}>\n\t\t\t\t{row.split(\" \").map((keyName) => {\n\t\t\t\t\tlet keyCode = keyCodes.find((k) => k.name === keyName).code;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Key\n\t\t\t\t\t\t\tkeyName={keyName}\n\t\t\t\t\t\t\tkey={keyName}\n\t\t\t\t\t\t\tkeyCode={keyCode}\n\t\t\t\t\t\t\tshiftState={shiftState}\n\t\t\t\t\t\t\t// ref={keyCode}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t));\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"keyboard\"\n\t\t\tonKeyDown={onKeyDown}\n\t\t\tonKeyUp={onKeyUp}\n\t\t\ttabIndex=\"0\"\n\t\t\tref={keyboard}\n\t\t>\n\t\t\t{/* <input\n\t\t\t\t// value={input}\n\t\t\t\tplaceholder={\"lalalalal\"}\n\t\t\t\t// onChange={onChangeInput}\n\t\t\t/> */}\n\t\t\t{renderKeyboard()}\n            <SoundEngine/>\n\t\t</div>\n\t);\n};\n","import './App.css';\nimport {Keys} from './components/Keys'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Keys/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}